# è‡ªå›å½’è’¸é¦

è‡ªå›å½’è’¸é¦æ˜¯ LightX2V ä¸­çš„ä¸€ä¸ªæŠ€æœ¯æ¢ç´¢ï¼Œé€šè¿‡è®­ç»ƒè’¸é¦æ¨¡å‹å°†æ¨ç†æ­¥æ•°ä»åŸå§‹çš„ 40-50 æ­¥å‡å°‘åˆ° **8 æ­¥**ï¼Œåœ¨å®ç°æ¨ç†åŠ é€Ÿçš„åŒæ—¶èƒ½å¤Ÿé€šè¿‡ KV Cache æŠ€æœ¯ç”Ÿæˆæ— é™é•¿è§†é¢‘ã€‚

> âš ï¸ è­¦å‘Šï¼šç›®å‰è‡ªå›å½’è’¸é¦çš„æ•ˆæœä¸€èˆ¬ï¼ŒåŠ é€Ÿæ•ˆæœä¹Ÿæ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼Œä½†æ˜¯å¯ä»¥ä½œä¸ºä¸€ä¸ªé•¿æœŸçš„ç ”ç©¶é¡¹ç›®ã€‚ç›®å‰ LightX2V ä»…æ”¯æŒ T2V çš„è‡ªå›å½’æ¨¡å‹ã€‚

## ğŸ” æŠ€æœ¯åŸç†

è‡ªå›å½’è’¸é¦é€šè¿‡ [CausVid](https://github.com/tianweiy/CausVid) æŠ€æœ¯å®ç°ã€‚CausVid é’ˆå¯¹ 1.3B çš„è‡ªå›å½’æ¨¡å‹è¿›è¡Œæ­¥æ•°è’¸é¦ã€CFGè’¸é¦ã€‚LightX2V åœ¨å…¶åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†ä¸€ç³»åˆ—æ‰©å±•ï¼š

1. **æ›´å¤§çš„æ¨¡å‹**ï¼šæ”¯æŒ 14B æ¨¡å‹çš„è‡ªå›å½’è’¸é¦è®­ç»ƒï¼›
2. **æ›´å®Œæ•´çš„æ•°æ®å¤„ç†æµç¨‹**ï¼šç”Ÿæˆ 50,000 ä¸ªæç¤ºè¯-è§†é¢‘å¯¹çš„è®­ç»ƒæ•°æ®é›†ï¼›

å…·ä½“å®ç°å¯å‚è€ƒ [CausVid-Plus](https://github.com/GoatWu/CausVid-Plus)ã€‚

## ğŸ› ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### é…ç½®æ–‡ä»¶

åœ¨ [configs/causvid/](https://github.com/ModelTC/lightx2v/tree/main/configs/causvid) ç›®å½•ä¸‹æä¾›äº†é…ç½®é€‰é¡¹ï¼š

| é…ç½®æ–‡ä»¶ | æ¨¡å‹åœ°å€ |
|----------|------------|
| [wan_t2v_causvid.json](https://github.com/ModelTC/lightx2v/blob/main/configs/causvid/wan_t2v_causvid.json) | https://huggingface.co/lightx2v/Wan2.1-T2V-14B-CausVid |

### å…³é”®é…ç½®å‚æ•°

```json
{
  "enable_cfg": false,          // å…³é—­CFGä»¥æå‡é€Ÿåº¦
  "num_fragments": 3,           // ä¸€æ¬¡ç”Ÿæˆè§†é¢‘çš„æ®µæ•°ï¼Œæ¯æ®µ5s
  "num_frames": 21,             // æ¯æ®µè§†é¢‘çš„å¸§æ•°ï¼Œè°¨æ…ä¿®æ”¹ï¼
  "num_frame_per_block": 3,     // æ¯ä¸ªè‡ªå›å½’å—çš„å¸§æ•°ï¼Œè°¨æ…ä¿®æ”¹ï¼
  "num_blocks": 7,              // æ¯æ®µè§†é¢‘çš„è‡ªå›å½’å—æ•°ï¼Œè°¨æ…ä¿®æ”¹ï¼
  "frame_seq_length": 1560,     // æ¯å¸§çš„ç¼–ç é•¿åº¦ï¼Œè°¨æ…ä¿®æ”¹ï¼
  "denoising_step_list": [      // å»å™ªæ—¶é—´æ­¥åˆ—è¡¨
    999, 934, 862, 756, 603, 410, 250, 140, 74
  ]
}
```

## ğŸ“œ ä½¿ç”¨æ–¹æ³•

### æ¨¡å‹å‡†å¤‡

å°†ä¸‹è½½å¥½çš„æ¨¡å‹ï¼ˆ`causal_model.pt` æˆ–è€… `causal_model.safetensors`ï¼‰æ”¾åˆ° Wan æ¨¡å‹æ ¹ç›®å½•çš„ `causvid_models/` æ–‡ä»¶å¤¹ä¸‹å³å¯
- å¯¹äº T2Vï¼š`Wan2.1-T2V-14B/causvid_models/`

### æ¨ç†è„šæœ¬

```bash
bash scripts/wan/run_wan_t2v_causvid.sh
```
